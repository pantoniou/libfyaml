

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>fy-tool &mdash; libfyaml 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=2709fde1"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Public API" href="../libfyaml.html" />
    <link rel="prev" title="Introduction" href="../intro.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            libfyaml
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">fy-tool</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l2"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="#options">Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#author">Author</a></li>
<li class="toctree-l2"><a class="reference internal" href="#bugs">Bugs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#see-also">See also</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../libfyaml.html">Public API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">libfyaml</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">fy-tool</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/man/fy-tool.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="fy-tool">
<h1>fy-tool<a class="headerlink" href="#fy-tool" title="Link to this heading"></a></h1>
<section id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Link to this heading"></a></h2>
<p><strong>fy-tool</strong> [<em>OPTIONS</em>] [&lt;<em>file</em>&gt; …]</p>
<p><strong>fy-dump</strong> [<em>OPTIONS</em>] [&lt;<em>file</em>&gt; …]</p>
<p><strong>fy-testsuite</strong> [<em>OPTIONS</em>] &lt;<em>file</em>&gt;</p>
<p><strong>fy-filter</strong> [<em>OPTIONS</em>] [-f*FILE*] [&lt;<em>path</em>&gt; …]</p>
<p><strong>fy-join</strong> [<em>OPTIONS</em>] [-T*PATH*] [-F*PATH*] [-t*PATH*] [&lt;<em>file</em>&gt; …]</p>
<p><strong>fy-ypath</strong> [<em>OPTIONS</em>] &lt;<em>ypath-expression&gt; [&lt;*file</em>&gt; …]</p>
<p><strong>fy-compose</strong> [<em>OPTIONS</em>] [&lt;<em>file</em>&gt; …]</p>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Link to this heading"></a></h2>
<p><strong class="program">fy-tool</strong> is a general YAML/JSON manipulation tool using <cite>libfyaml</cite>.
Its operation is different depending on how it’s called, either via aliases
named <cite>fy-dump</cite>, <cite>fy-testsuite</cite>, <cite>fy-filter</cite>, <cite>fy-join</cite>, or via the
<cite>–dump</cite>, <cite>–testsuite</cite>, <cite>–filter</cite>, <cite>–join</cite>, <cite>–ypath</cite> and <cite>–compose</cite> options.</p>
<ul class="simple">
<li><p>In <cite>dump</cite> mode it will parse YAML/JSON input files and output YAML/JSON
according to the output format options.</p></li>
<li><p>In <cite>testsuite</cite> mode it will parse a single YAML input file and output
yaml testsuite reference output.</p></li>
<li><p>In <cite>filter</cite> mode it will parse YAML/JSON files and output YAML/JSON
output filtered according to the given option.</p></li>
<li><p>In <cite>join</cite> mode it will parse YAML/JSON files and join them into a single
YAML/JSON document according to the given command line options.</p></li>
<li><p>In <cite>ypath</cite> mode it will parse YAML/JSON files and execute a ypath query
which will output a document stream according to the results. This is
an experimental mode under development, where the syntax is not yet
decided completely.</p></li>
<li><p>In <cite>compose</cite> mode, it operates similarly to dump, but the document tree
is created using the built-in composer API.</p></li>
</ul>
</section>
<section id="options">
<h2>Options<a class="headerlink" href="#options" title="Link to this heading"></a></h2>
<p>A number of options are common for all the different modes of operation
and they are as follows:</p>
<p class="rubric">Common options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-q">
<span id="cmdoption-fy-tool-quiet"></span><span class="sig-name descname"><span class="pre">-q</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--quiet</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-q" title="Link to this definition"></a></dt>
<dd><p>Quiet operation, does not output informational messages at all.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-h">
<span id="cmdoption-fy-tool-help"></span><span class="sig-name descname"><span class="pre">-h</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-h" title="Link to this definition"></a></dt>
<dd><p>Display usage information.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-v">
<span id="cmdoption-fy-tool-version"></span><span class="sig-name descname"><span class="pre">-v</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--version</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-v" title="Link to this definition"></a></dt>
<dd><p>Display version information.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-I">
<span id="cmdoption-fy-tool-include"></span><span class="sig-name descname"><span class="pre">-I</span></span><span class="sig-prename descclassname"> <span class="pre">DIR</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--include</span></span><span class="sig-prename descclassname"><span class="pre">=DIR</span></span><a class="headerlink" href="#cmdoption-fy-tool-I" title="Link to this definition"></a></dt>
<dd><p>Add the <cite>DIR</cite>  directory to the search path which will be used to locate a YAML/JSON file.
The default path is set to “”</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-d">
<span id="cmdoption-fy-tool-debug-level"></span><span class="sig-name descname"><span class="pre">-d</span></span><span class="sig-prename descclassname"> <span class="pre">LEVEL</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--debug-level</span></span><span class="sig-prename descclassname"><span class="pre">=LEVEL</span></span><a class="headerlink" href="#cmdoption-fy-tool-d" title="Link to this definition"></a></dt>
<dd><p>Set the minimum numeric debug level value of the library to <cite>LEVEL</cite>.
The numeric value must be in the range of 0 to 4 and their meaning is as follows:</p>
<ul>
<li><p><strong>0</strong> (<cite>DEBUG</cite>)</p>
<p>Internal library debugging messages. No output is produced when the
library was compiled with <cite>–disable-debug</cite></p>
</li>
<li><p><strong>1</strong> (<cite>INFO</cite>)</p>
<p>Informational messages about the internal operation of the library.</p>
</li>
<li><p><strong>2</strong> (<cite>NOTICE</cite>)</p>
<p>Messsages that could require attention.</p>
</li>
<li><p><strong>3</strong> (<cite>WARNING</cite>)</p>
<p>A warning message, something is wrong, but operation can continue.
This is the default value.</p>
</li>
<li><p><strong>4</strong> (<cite>ERROR</cite>)</p>
<p>A fatal error occured, it is impossible to continue.</p>
</li>
</ul>
<p>The default level is 3 (<cite>WARNING</cite>), which means that messages
with level 3 and higher will be displayed.</p>
</dd></dl>

<p class="rubric">Parser Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-j">
<span id="cmdoption-fy-tool-json"></span><span class="sig-name descname"><span class="pre">-j</span></span><span class="sig-prename descclassname"> <span class="pre">JSONOPT</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--json</span></span><span class="sig-prename descclassname"><span class="pre">=JSONOPT</span></span><a class="headerlink" href="#cmdoption-fy-tool-j" title="Link to this definition"></a></dt>
<dd><p>Marks the input files as JSON or YAML accordingly to:</p>
<ul>
<li><p><strong>no</strong></p>
<p>The input files are always in YAML mode.</p>
</li>
<li><p><strong>force</strong></p>
<p>The input files are always set to JSON mode.</p>
</li>
<li><p><strong>auto</strong></p>
<p>The input files are set to JSON mode automatically when the
file’s extension is <cite>.json</cite>. This is the default.</p>
</li>
</ul>
<p>JSON support is complete so all valid JSON files are parsed according
to JSON rules, even where those differ with YAML rules.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-yaml-1.1">
<span class="sig-name descname"><span class="pre">--yaml-1.1</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-yaml-1.1" title="Link to this definition"></a></dt>
<dd><p>Force YAML 1.1 rules, when input does not specify a version via a directive.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-yaml-1.2">
<span class="sig-name descname"><span class="pre">--yaml-1.2</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-yaml-1.2" title="Link to this definition"></a></dt>
<dd><p>Force YAML 1.2 rules, when input does not specify a version via a directive.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-yaml-1.3">
<span class="sig-name descname"><span class="pre">--yaml-1.3</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-yaml-1.3" title="Link to this definition"></a></dt>
<dd><p>Force YAML 1.3 rules, when input does not specify a version via a directive.
This option is experimental since the 1.3 spec is not yet released.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-disable-accel">
<span class="sig-name descname"><span class="pre">--disable-accel</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-disable-accel" title="Link to this definition"></a></dt>
<dd><p>Disable use of acceleration features; use less memory but potentially more CPU.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-disable-buffering">
<span class="sig-name descname"><span class="pre">--disable-buffering</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-disable-buffering" title="Link to this definition"></a></dt>
<dd><p>Disable use stdio bufferring, reads will be performed via unix fd reads. This
may reduce latency when reading from a network file descriptor, or similar.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-disable-depth-limit">
<span class="sig-name descname"><span class="pre">--disable-depth-limit</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-disable-depth-limit" title="Link to this definition"></a></dt>
<dd><p>Disable the object depth limit, which is usually set to a value near 60.
Using this option is is possible to process even pathological inputs when
using the default non-recursive build mode.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-prefer-recursive">
<span class="sig-name descname"><span class="pre">--prefer-recursive</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-prefer-recursive" title="Link to this definition"></a></dt>
<dd><p>Prefer recursive build methods, instead of iterative. This field is merely here
for evaluation purposes and will be removed in a future version.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-sloppy-flow-indentation">
<span class="sig-name descname"><span class="pre">--sloppy-flow-indentation</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-sloppy-flow-indentation" title="Link to this definition"></a></dt>
<dd><p>Use sloppy flow indentation, where indentation is not taken into account in flow
mode, even when the input is invalid YAML according to the spec.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-ypath-aliases">
<span class="sig-name descname"><span class="pre">--ypath-aliases</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-ypath-aliases" title="Link to this definition"></a></dt>
<dd><p>Process aliases using ypaths. Experimental option.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-streaming">
<span class="sig-name descname"><span class="pre">--streaming</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-streaming" title="Link to this definition"></a></dt>
<dd><p>Only valid when in <strong>dump</strong> mode, enables streaming mode. This means
that no in-memory graph tree is constructed, so indefinite and arbitrary
large YAML input streams can be processed.</p>
<p>Note that in streaming mode:</p>
<ul class="simple">
<li><p>Key duplication checks are disabled.</p></li>
<li><p>No reording of key order is possible when emitting (i.e. <cite>–sort</cite> is not available).</p></li>
<li><p>Alias resolution is not available (i.e. <cite>–resolve</cite>).</p></li>
</ul>
</dd></dl>

<p class="rubric">Resolver Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-r">
<span id="cmdoption-fy-tool-resolve"></span><span class="sig-name descname"><span class="pre">-r</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--resolve</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-r" title="Link to this definition"></a></dt>
<dd><p>Perform anchor and merge key resolution. By default this option is disabled.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-l">
<span id="cmdoption-fy-tool-follow"></span><span class="sig-name descname"><span class="pre">-l</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--follow</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-l" title="Link to this definition"></a></dt>
<dd><p>Follow aliases when performing path traversal. By default this option is disabled.</p>
</dd></dl>

<p class="rubric">Testsuite Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-disable-flow-markers">
<span class="sig-name descname"><span class="pre">--disable-flow-markers</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-disable-flow-markers" title="Link to this definition"></a></dt>
<dd><p>Do not output flow-markers for the testsuite output.</p>
</dd></dl>

<p class="rubric">Emitter Options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-i">
<span id="cmdoption-fy-tool-indent"></span><span class="sig-name descname"><span class="pre">-i</span></span><span class="sig-prename descclassname"> <span class="pre">INDENT</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--indent</span></span><span class="sig-prename descclassname"><span class="pre">=INDENT</span></span><a class="headerlink" href="#cmdoption-fy-tool-i" title="Link to this definition"></a></dt>
<dd><p>Sets the emitter indent (in spaces). Default is <strong>2</strong>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-w">
<span id="cmdoption-fy-tool-width"></span><span class="sig-name descname"><span class="pre">-w</span></span><span class="sig-prename descclassname"> <span class="pre">WIDTH</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--width</span></span><span class="sig-prename descclassname"><span class="pre">=WIDTH</span></span><a class="headerlink" href="#cmdoption-fy-tool-w" title="Link to this definition"></a></dt>
<dd><p>Sets the preferred output width of the emitter. It is generally impossible
to strictly adhere to this limit so this is treated as a hint at best.
It not valid in any oneline output modes (i.e. <cite>flow-oneline</cite> or <cite>json-oneline</cite>).
Default value is 80.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-m">
<span id="cmdoption-fy-tool-mode"></span><span class="sig-name descname"><span class="pre">-m</span></span><span class="sig-prename descclassname"> <span class="pre">MODE</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--mode</span></span><span class="sig-prename descclassname"><span class="pre">=MODE</span></span><a class="headerlink" href="#cmdoption-fy-tool-m" title="Link to this definition"></a></dt>
<dd><p>Sets the output mode of the YAML emitted. Possible values are:</p>
<ul>
<li><p><strong>original</strong></p>
<p>The original formatting used in the input. This is default mode.</p>
</li>
<li><p><strong>block</strong></p>
<p>The output is forced to be in block mode. All flow constructs will
be converted to block mode.</p>
</li>
<li><p><strong>flow</strong></p>
<p>The output is forced to be in flow mode. All block constructs will
be converted to flow mode.</p>
</li>
<li><p><strong>flow-oneline</strong></p>
<p>The output is forced to be in flow mode, but no newlines will be
emitted; the output is going to be a (potentially very) long line.</p>
</li>
<li><p><strong>json</strong></p>
<p>The output is forced to be in JSON mode. Note that it is impossible
to output an arbitrary YAML file as JSON, so this may fail.</p>
</li>
<li><p><strong>json-oneline</strong></p>
<p>The output is forced to be in JSON mode and in a single line.</p>
</li>
<li><p><strong>dejson</strong></p>
<p>Output is in block YAML mode but with special care to convert
JSON quoted strings in as non-idiomatic YAML as possible.
For example <cite>{ foo: “this is a test” }</cite> will be emitted as
<cite>foo: this is a test</cite>. YAML can handle scalars without using
excessive quoting.</p>
</li>
</ul>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-C">
<span id="cmdoption-fy-tool-color"></span><span class="sig-name descname"><span class="pre">-C</span></span><span class="sig-prename descclassname"> <span class="pre">MODE</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--color</span></span><span class="sig-prename descclassname"><span class="pre">=MODE</span></span><a class="headerlink" href="#cmdoption-fy-tool-C" title="Link to this definition"></a></dt>
<dd><p>It is possible to colorize output using ANSI color escape sequences,
and the mode can be one of:</p>
<ul>
<li><p><strong>off</strong></p>
<p>Never colorize output.</p>
</li>
<li><p><strong>on</strong></p>
<p>Always colorize output.</p>
</li>
<li><p><strong>auto</strong></p>
<p>Automatically colorize output when the output is a terminal.
This is the default.</p>
</li>
</ul>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-V">
<span id="cmdoption-fy-tool-visible"></span><span class="sig-name descname"><span class="pre">-V</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--visible</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-V" title="Link to this definition"></a></dt>
<dd><p>Make all whitespace (spaces, unicode spaces and linebreaks) visible.
Note that this is performed using UTF8 characters so it will not work
on non-UTF8 terminals, or a non-UTF8 complete font.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-s">
<span id="cmdoption-fy-tool-sort"></span><span class="sig-name descname"><span class="pre">-s</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--sort</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-s" title="Link to this definition"></a></dt>
<dd><p>Sort keys on output. This option is disabled by default.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-c">
<span id="cmdoption-fy-tool-comment"></span><span class="sig-name descname"><span class="pre">-c</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--comment</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-c" title="Link to this definition"></a></dt>
<dd><p>Experimental output comments option. Enabled output while preserving comments.
Disabled by default.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-strip-labels">
<span class="sig-name descname"><span class="pre">--strip-labels</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-strip-labels" title="Link to this definition"></a></dt>
<dd><p>Strip labels on output. Disabled by default.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-strip-tags">
<span class="sig-name descname"><span class="pre">--strip-tags</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-strip-tags" title="Link to this definition"></a></dt>
<dd><p>Strip tags on output. Disabled by default.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-strip-doc">
<span class="sig-name descname"><span class="pre">--strip-doc</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-strip-doc" title="Link to this definition"></a></dt>
<dd><p>Strip document indicators on output. Disabled by default.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-null-output">
<span class="sig-name descname"><span class="pre">--null-output</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-null-output" title="Link to this definition"></a></dt>
<dd><p>Do not generate any output, useful for profiling the parser.</p>
</dd></dl>

<p class="rubric">YPATH options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-dump-pathexpr">
<span class="sig-name descname"><span class="pre">--dump-pathexpr</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-dump-pathexpr" title="Link to this definition"></a></dt>
<dd><p>Dump the produced path expression for debugging.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-no-exec">
<span class="sig-name descname"><span class="pre">--no-exec</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-no-exec" title="Link to this definition"></a></dt>
<dd><p>Do not execute the expression. Useful when used with <cite>–dump-pathexpr</cite></p>
</dd></dl>

<p class="rubric">Compose options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-dump-path">
<span class="sig-name descname"><span class="pre">--dump-path</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-dump-path" title="Link to this definition"></a></dt>
<dd><p>Dump the path while composing.</p>
</dd></dl>

<p class="rubric">Tool mode select options</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-dump">
<span class="sig-name descname"><span class="pre">--dump</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-dump" title="Link to this definition"></a></dt>
<dd><p>Select <cite>dump</cite> mode of operation. This is the default.
This mode is also enabled when the called binary is aliased to
<em>fy-dump</em>.</p>
<p>In this mode, all files provided in the command line will be dumped
in one continuous stream, to the standard output, using document start
indicators to mark the start of end new file.</p>
<p>If the file provided is <cite>-</cite> then the input is the standard input.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-testsuite">
<span class="sig-name descname"><span class="pre">--testsuite</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-testsuite" title="Link to this definition"></a></dt>
<dd><p>Select <cite>testsuite</cite> mode of operation.
This mode is also enabled when the called binary is aliased to <em>fy-testsuite</em>.</p>
<p>In this mode, a single YAML file is read and an event stream is
generated which is the format used for <em>yaml-testsuite</em> compliance.</p>
<p>If the file provided is <cite>-</cite> then the input is the standard input.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-filter">
<span class="sig-name descname"><span class="pre">--filter</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-filter" title="Link to this definition"></a></dt>
<dd><p>Select <cite>filter</cite> mode of operation.
This mode is also enabled when the called binary is aliased to <em>fy-filter</em>.</p>
<p>In this mode, a single YAML file is read from the standard input for each path
that is provided in the command line a document will be produced to the
standard output.
To use file instead of standard input use the <cite>-f/–file</cite> option.</p>
<p>If the file provided is <cite>-</cite> then the input is the standard input.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-f">
<span id="cmdoption-fy-tool-file"></span><span class="sig-name descname"><span class="pre">-f</span></span><span class="sig-prename descclassname"> <span class="pre">FILE</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--file</span></span><span class="sig-prename descclassname"><span class="pre">=FILE</span></span><a class="headerlink" href="#cmdoption-fy-tool-f" title="Link to this definition"></a></dt>
<dd><p>Use the given file as input instead of standard input.</p>
<p>If  first character of <cite>FILE</cite> is <strong>&gt;</strong> the the input is the content of the option
that follows.
For example –file “&gt;foo: bar” is as –file file.yaml with file.yaml “foo: bar”</p>
</dd></dl>

</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-join">
<span class="sig-name descname"><span class="pre">--join</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-join" title="Link to this definition"></a></dt>
<dd><p>Select <cite>join</cite> mode of operation.
This mode is also enabled when the called binary is aliased to <em>fy-join</em>.</p>
<p>In this mode, multiple YAML files are joined into a single document, emitted
to the standard output.</p>
<p>If the file provided is <cite>-</cite> then the input is the standard input.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-T">
<span id="cmdoption-fy-tool-to"></span><span class="sig-name descname"><span class="pre">-T</span></span><span class="sig-prename descclassname"> <span class="pre">PATH</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--to</span></span><span class="sig-prename descclassname"><span class="pre">=PATH</span></span><a class="headerlink" href="#cmdoption-fy-tool-T" title="Link to this definition"></a></dt>
<dd><p>The target path of the join. By default this is the root <strong>/</strong>.</p>
<p>If  first character of <cite>FILE</cite> is <strong>&gt;</strong> the the input is the content of the option
that follows.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-F">
<span id="cmdoption-fy-tool-from"></span><span class="sig-name descname"><span class="pre">-F</span></span><span class="sig-prename descclassname"> <span class="pre">PATH</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--from</span></span><span class="sig-prename descclassname"><span class="pre">=PATH</span></span><a class="headerlink" href="#cmdoption-fy-tool-F" title="Link to this definition"></a></dt>
<dd><p>The origin path of the join (for each input). By default this is the root <strong>/</strong>.</p>
<p>If  first character of <cite>FILE</cite> is <strong>&gt;</strong> the the input is the content of the option
that follows.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-t">
<span id="cmdoption-fy-tool-trim"></span><span class="sig-name descname"><span class="pre">-t</span></span><span class="sig-prename descclassname"> <span class="pre">PATH</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--trim</span></span><span class="sig-prename descclassname"><span class="pre">=PATH</span></span><a class="headerlink" href="#cmdoption-fy-tool-t" title="Link to this definition"></a></dt>
<dd><p>Trim path of the output of the join. By default this is the root <strong>/</strong>.</p>
<p>If  first character of <cite>FILE</cite> is <strong>&gt;</strong> the the input is the content of the option
that follows.</p>
</dd></dl>

</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-ypath">
<span class="sig-name descname"><span class="pre">--ypath</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-ypath" title="Link to this definition"></a></dt>
<dd><p>Process files and output query results using ypath.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-fy-tool-compose">
<span class="sig-name descname"><span class="pre">--compose</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-fy-tool-compose" title="Link to this definition"></a></dt>
<dd><p>Use the composer API to build the document instead of direct events.</p>
</dd></dl>

</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading"></a></h2>
<p class="rubric">Example input files</p>
<p>We’re going to be using a couple of YAML files in our examples.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">invoice.yaml</span><a class="headerlink" href="#id1" title="Link to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># invoice.yaml</span>
<span class="nt">invoice</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">34843</span>
<span class="nt">date   </span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2001-01-23</span>
<span class="nt">bill-to</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;id001</span>
<span class="nt">given  </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Chris</span>
<span class="nt">family </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Dumars</span>
<span class="nt">address</span><span class="p">:</span>
<span class="w">        </span><span class="nt">lines</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">458 Walkman Dr.</span>
<span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">Suite</span><span class="w"> </span><span class="c1">#292</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">simple-anchors.yaml</span><a class="headerlink" href="#id2" title="Link to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># simple-anchors.yaml</span>
<span class="nt">foo</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;label</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> bar</span><span class="p">:</span><span class="w"> </span><span class="nv">frooz</span><span class="w"> </span><span class="p p-Indicator">}</span>
<span class="nt">baz</span><span class="p">:</span><span class="w"> </span><span class="nv">*label</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">mergekeyspec.yaml</span><a class="headerlink" href="#id3" title="Link to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nl">&amp;CENTER</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> x</span><span class="p">:</span><span class="w"> </span><span class="nv">1</span><span class="p p-Indicator">,</span><span class="nt"> y</span><span class="p">:</span><span class="w"> </span><span class="nv">2</span><span class="w"> </span><span class="p p-Indicator">}</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nl">&amp;LEFT</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> x</span><span class="p">:</span><span class="w"> </span><span class="nv">0</span><span class="p p-Indicator">,</span><span class="nt"> y</span><span class="p">:</span><span class="w"> </span><span class="nv">2</span><span class="w"> </span><span class="p p-Indicator">}</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nl">&amp;BIG</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> r</span><span class="p">:</span><span class="w"> </span><span class="nv">10</span><span class="w"> </span><span class="p p-Indicator">}</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nl">&amp;SMALL</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> r</span><span class="p">:</span><span class="w"> </span><span class="nv">1</span><span class="w"> </span><span class="p p-Indicator">}</span>

<span class="c1"># All the following maps are equal:</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="c1"># Explicit keys</span>
<span class="w">  </span><span class="nt">x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">y</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">  </span><span class="nt">r</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">  </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">center/big</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="c1"># Merge one map</span>
<span class="w">  </span><span class="nt">&lt;&lt; </span><span class="p">:</span><span class="w"> </span><span class="nv">*CENTER</span>
<span class="w">  </span><span class="nt">r</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">  </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">center/big</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="c1"># Merge multiple maps</span>
<span class="w">  </span><span class="nt">&lt;&lt; </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="nv">*CENTER</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">*BIG</span><span class="w"> </span><span class="p p-Indicator">]</span>
<span class="w">  </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">center/big</span>

<span class="p p-Indicator">-</span><span class="w"> </span><span class="c1"># Override</span>
<span class="w">  </span><span class="nt">&lt;&lt; </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="nv">*BIG</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">*LEFT</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">*SMALL</span><span class="w"> </span><span class="p p-Indicator">]</span>
<span class="w">  </span><span class="nt">x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">center/big</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">bomb.yaml</span><a class="headerlink" href="#id4" title="Link to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">a</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;a</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;lol&quot;</span><span class="p p-Indicator">,</span><span class="s">&quot;lol&quot;</span><span class="p p-Indicator">,</span><span class="s">&quot;lol&quot;</span><span class="p p-Indicator">,</span><span class="s">&quot;lol&quot;</span><span class="p p-Indicator">,</span><span class="s">&quot;lol&quot;</span><span class="p p-Indicator">,</span><span class="s">&quot;lol&quot;</span><span class="p p-Indicator">,</span><span class="s">&quot;lol&quot;</span><span class="p p-Indicator">,</span><span class="s">&quot;lol&quot;</span><span class="p p-Indicator">,</span><span class="s">&quot;lol&quot;</span><span class="p p-Indicator">]</span>
<span class="nt">b</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;b</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*a</span><span class="p p-Indicator">,</span><span class="nv">*a</span><span class="p p-Indicator">,</span><span class="nv">*a</span><span class="p p-Indicator">,</span><span class="nv">*a</span><span class="p p-Indicator">,</span><span class="nv">*a</span><span class="p p-Indicator">,</span><span class="nv">*a</span><span class="p p-Indicator">,</span><span class="nv">*a</span><span class="p p-Indicator">,</span><span class="nv">*a</span><span class="p p-Indicator">,</span><span class="nv">*a</span><span class="p p-Indicator">]</span>
<span class="nt">c</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;c</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*b</span><span class="p p-Indicator">,</span><span class="nv">*b</span><span class="p p-Indicator">,</span><span class="nv">*b</span><span class="p p-Indicator">,</span><span class="nv">*b</span><span class="p p-Indicator">,</span><span class="nv">*b</span><span class="p p-Indicator">,</span><span class="nv">*b</span><span class="p p-Indicator">,</span><span class="nv">*b</span><span class="p p-Indicator">,</span><span class="nv">*b</span><span class="p p-Indicator">,</span><span class="nv">*b</span><span class="p p-Indicator">]</span>
<span class="nt">d</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;d</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*c</span><span class="p p-Indicator">,</span><span class="nv">*c</span><span class="p p-Indicator">,</span><span class="nv">*c</span><span class="p p-Indicator">,</span><span class="nv">*c</span><span class="p p-Indicator">,</span><span class="nv">*c</span><span class="p p-Indicator">,</span><span class="nv">*c</span><span class="p p-Indicator">,</span><span class="nv">*c</span><span class="p p-Indicator">,</span><span class="nv">*c</span><span class="p p-Indicator">,</span><span class="nv">*c</span><span class="p p-Indicator">]</span>
<span class="nt">e</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;e</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*d</span><span class="p p-Indicator">,</span><span class="nv">*d</span><span class="p p-Indicator">,</span><span class="nv">*d</span><span class="p p-Indicator">,</span><span class="nv">*d</span><span class="p p-Indicator">,</span><span class="nv">*d</span><span class="p p-Indicator">,</span><span class="nv">*d</span><span class="p p-Indicator">,</span><span class="nv">*d</span><span class="p p-Indicator">,</span><span class="nv">*d</span><span class="p p-Indicator">,</span><span class="nv">*d</span><span class="p p-Indicator">]</span>
<span class="nt">f</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;f</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*e</span><span class="p p-Indicator">,</span><span class="nv">*e</span><span class="p p-Indicator">,</span><span class="nv">*e</span><span class="p p-Indicator">,</span><span class="nv">*e</span><span class="p p-Indicator">,</span><span class="nv">*e</span><span class="p p-Indicator">,</span><span class="nv">*e</span><span class="p p-Indicator">,</span><span class="nv">*e</span><span class="p p-Indicator">,</span><span class="nv">*e</span><span class="p p-Indicator">,</span><span class="nv">*e</span><span class="p p-Indicator">]</span>
<span class="nt">g</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;g</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">*f</span><span class="p p-Indicator">,</span><span class="nv">*f</span><span class="p p-Indicator">,</span><span class="nv">*f</span><span class="p p-Indicator">,</span><span class="nv">*f</span><span class="p p-Indicator">,</span><span class="nv">*f</span><span class="p p-Indicator">,</span><span class="nv">*f</span><span class="p p-Indicator">,</span><span class="nv">*f</span><span class="p p-Indicator">,</span><span class="nv">*f</span><span class="p p-Indicator">,</span><span class="nv">*f</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
</div>
<p class="rubric">fy-dump examples.</p>
<p>Parse and dump generated YAML document tree in the original YAML form</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>fy-dump<span class="w"> </span>invoice.yaml
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">invoice</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">34843</span>
<span class="nt">date</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2001-01-23</span>
<span class="nt">bill-to</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;id001</span>
<span class="nt">given</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Chris</span>
<span class="nt">family</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Dumars</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">address</span><span class="p p-Indicator">:</span>
<span class="w">  </span><span class="nt">lines</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">    </span><span class="no">458 Walkman Dr.</span>
<span class="w">    </span><span class="no">Suite #292</span>
</pre></div>
</div>
<p>Parse and dump generated YAML document tree in flow YAML form</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>fy-dump<span class="w"> </span>-mflow<span class="w"> </span>invoice.yaml
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">{</span>
<span class="nt">  invoice</span><span class="p">:</span><span class="w"> </span><span class="nv">34843</span><span class="p p-Indicator">,</span>
<span class="nt">  date</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="w"> </span><span class="nv">2001-01-23</span><span class="p p-Indicator">,</span>
<span class="nt">  bill-to</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;id001</span><span class="w"> </span><span class="p p-Indicator">{</span>
<span class="nt">    given</span><span class="p">:</span><span class="w"> </span><span class="nv">Chris</span><span class="p p-Indicator">,</span>
<span class="nt">    family</span><span class="p">:</span><span class="w"> </span><span class="nv">Dumars</span><span class="p p-Indicator">,</span>
<span class="nt">    address</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span>
<span class="nt">      lines</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;458</span><span class="nv"> </span><span class="s">Walkman</span><span class="nv"> </span><span class="s">Dr.\nSuite</span><span class="nv"> </span><span class="s">#292\n&quot;</span>
<span class="w">    </span><span class="p p-Indicator">}</span>
<span class="w">  </span><span class="p p-Indicator">}</span>
<span class="p p-Indicator">}</span>
</pre></div>
</div>
<p>Parse and dump generated YAML document from the input string</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>fy-dump<span class="w"> </span>-mjson<span class="w"> </span><span class="s2">&quot;&gt;foo: bar&quot;</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;foo&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bar&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Using the resolve option on the <cite>simple-anchors.yaml</cite></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>fy-dump<span class="w"> </span>-r<span class="w"> </span>simple-anchor.yaml
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">foo</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;label</span><span class="w"> </span><span class="p p-Indicator">{</span>
<span class="nt">    bar</span><span class="p">:</span><span class="w"> </span><span class="nv">frooz</span>
<span class="w">  </span><span class="p p-Indicator">}</span>
<span class="nt">baz</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span>
<span class="nt">    bar</span><span class="p">:</span><span class="w"> </span><span class="nv">frooz</span>
<span class="w">  </span><span class="p p-Indicator">}</span>
</pre></div>
</div>
<p>Stripping the labels too:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>fy-dump<span class="w"> </span>-r<span class="w"> </span>--strip-label<span class="w"> </span>simple-anchor.yaml
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">foo</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span>
<span class="nt">    bar</span><span class="p">:</span><span class="w"> </span><span class="nv">frooz</span>
<span class="w">  </span><span class="p p-Indicator">}</span>
<span class="nt">baz</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span>
<span class="nt">    bar</span><span class="p">:</span><span class="w"> </span><span class="nv">frooz</span>
<span class="w">  </span><span class="p p-Indicator">}</span>
</pre></div>
</div>
<p>Merge key support:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>fy-dump<span class="w"> </span>-r<span class="w"> </span>--strip-label<span class="w"> </span>mergekeyspec.yaml
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">{</span>
<span class="nt">    x</span><span class="p">:</span><span class="w"> </span><span class="nv">1</span><span class="p p-Indicator">,</span>
<span class="nt">    y</span><span class="p">:</span><span class="w"> </span><span class="nv">2</span>
<span class="w">  </span><span class="p p-Indicator">}</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">{</span>
<span class="nt">    x</span><span class="p">:</span><span class="w"> </span><span class="nv">0</span><span class="p p-Indicator">,</span>
<span class="nt">    y</span><span class="p">:</span><span class="w"> </span><span class="nv">2</span>
<span class="w">  </span><span class="p p-Indicator">}</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">{</span>
<span class="nt">    r</span><span class="p">:</span><span class="w"> </span><span class="nv">10</span>
<span class="w">  </span><span class="p p-Indicator">}</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">{</span>
<span class="nt">    r</span><span class="p">:</span><span class="w"> </span><span class="nv">1</span>
<span class="w">  </span><span class="p p-Indicator">}</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">y</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">  </span><span class="nt">r</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">  </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">center/big</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">y</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">  </span><span class="nt">x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">r</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">  </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">center/big</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">r</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">  </span><span class="nt">y</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">  </span><span class="nt">x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">center/big</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">y</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">  </span><span class="nt">r</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">  </span><span class="nt">x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">center/big</span>
</pre></div>
</div>
<p>Sorting option:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>fy-dump<span class="w"> </span>-s<span class="w"> </span>invoice.yaml
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">bill-to</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;id001</span>
<span class="w">  </span><span class="nt">address</span><span class="p">:</span>
<span class="w">    </span><span class="nt">lines</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">      </span><span class="no">458 Walkman Dr.</span>
<span class="w">      </span><span class="no">Suite #292</span>
<span class="w">  </span><span class="nt">family</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Dumars</span>
<span class="w">  </span><span class="nt">given</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Chris</span>
<span class="nt">date</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2001-01-23</span>
<span class="nt">invoice</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">34843</span>
</pre></div>
</div>
<p class="rubric">fy-testsuite example.</p>
<p>An example using the testsuite mode generates the following
event stream from <cite>invoice.yaml</cite></p>
<p>Parse and dump test-suite event format</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>fy-testsuite<span class="w"> </span>invoice.yaml
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">STR</span>
<span class="o">+</span><span class="n">DOC</span>
<span class="o">+</span><span class="n">MAP</span>
<span class="o">=</span><span class="n">VAL</span> <span class="p">:</span><span class="n">invoice</span>
<span class="o">=</span><span class="n">VAL</span> <span class="p">:</span><span class="mi">34843</span>
<span class="o">=</span><span class="n">VAL</span> <span class="p">:</span><span class="n">date</span>
<span class="o">=</span><span class="n">VAL</span> <span class="o">&lt;</span><span class="n">tag</span><span class="p">:</span><span class="n">yaml</span><span class="o">.</span><span class="n">org</span><span class="p">,</span><span class="mi">2002</span><span class="p">:</span><span class="nb">str</span><span class="o">&gt;</span> <span class="p">:</span><span class="mi">2001</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">23</span>
<span class="o">=</span><span class="n">VAL</span> <span class="p">:</span><span class="n">bill</span><span class="o">-</span><span class="n">to</span>
<span class="o">+</span><span class="n">MAP</span> <span class="o">&amp;</span><span class="n">id001</span>
<span class="o">=</span><span class="n">VAL</span> <span class="p">:</span><span class="n">given</span>
<span class="o">=</span><span class="n">VAL</span> <span class="p">:</span><span class="n">Chris</span>
<span class="o">=</span><span class="n">VAL</span> <span class="p">:</span><span class="n">family</span>
<span class="o">=</span><span class="n">VAL</span> <span class="p">:</span><span class="n">Dumars</span>
<span class="o">=</span><span class="n">VAL</span> <span class="p">:</span><span class="n">address</span>
<span class="o">+</span><span class="n">MAP</span>
<span class="o">=</span><span class="n">VAL</span> <span class="p">:</span><span class="n">lines</span>
<span class="o">=</span><span class="n">VAL</span> <span class="o">|</span><span class="mi">458</span> <span class="n">Walkman</span> <span class="n">Dr</span><span class="o">.</span>\<span class="n">nSuite</span> <span class="c1">#292\n</span>
<span class="o">-</span><span class="n">MAP</span>
<span class="o">-</span><span class="n">MAP</span>
<span class="o">-</span><span class="n">MAP</span>
<span class="o">-</span><span class="n">DOC</span>
<span class="o">-</span><span class="n">STR</span>
</pre></div>
</div>
<p class="rubric">fy-filter examples.</p>
<p>Filter out from the <cite>/bill-to</cite> path of <cite>invoice.yaml</cite></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>cat<span class="w"> </span>invoice.yaml<span class="w"> </span><span class="p">|</span><span class="w"> </span>fy-filter<span class="w"> </span>/bill-to
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nl">&amp;id001</span>
<span class="nt">given</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Chris</span>
<span class="nt">family</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Dumars</span>
<span class="nt">address</span><span class="p">:</span>
<span class="w">  </span><span class="nt">lines</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">    </span><span class="no">458 Walkman Dr.</span>
<span class="w">    </span><span class="no">Suite #292</span>
</pre></div>
</div>
<p>Filter example with arrays (and use the –file option)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>fy-filter<span class="w"> </span>--file<span class="o">=</span>mergekeyspec.yaml<span class="w"> </span>/5
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="nt">&lt;&lt;</span><span class="p">:</span><span class="w"> </span><span class="nv">*CENTER</span>
<span class="nt">r</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="nt">label</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">center/big</span>
</pre></div>
</div>
<p>Follow anchors example</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>fy-filter<span class="w"> </span>--file<span class="o">=</span>simple-anchors.yaml<span class="w"> </span>/baz/bar
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">frooz</span>
</pre></div>
</div>
<p>Handle YAML bombs (if you can spare the memory and cpu time)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>fy-filter<span class="w"> </span>--file<span class="o">=</span>bomb.yaml<span class="w"> </span>-r<span class="w"> </span>/<span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-l
<span class="m">6726047</span>
</pre></div>
</div>
<p>You don't have to, you can just follow links to retrieve data.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>fy-filter<span class="w"> </span>--file<span class="o">=</span>stuff/bomb.yaml<span class="w"> </span>-l<span class="w"> </span>--strip-label<span class="w"> </span>/g/0/1/2/3/4/5/6
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="s">&quot;lol&quot;</span>
</pre></div>
</div>
<p>Following links works with merge keys too:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>fy-filter<span class="w"> </span>--file<span class="o">=</span>mergekeyspec.yaml<span class="w"> </span>-l<span class="w"> </span>--strip-label<span class="w"> </span>/5/x
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div>
</div>
<p class="rubric">fy-join examples.</p>
<p>Joining two YAML files that have root mappings.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>fy-join<span class="w"> </span>simple-anchors.yaml<span class="w"> </span>invoice.yaml
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">foo</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;label</span><span class="w"> </span><span class="p p-Indicator">{</span>
<span class="nt">    bar</span><span class="p">:</span><span class="w"> </span><span class="nv">frooz</span>
<span class="w">  </span><span class="p p-Indicator">}</span>
<span class="nt">baz</span><span class="p">:</span><span class="w"> </span><span class="nv">*label</span>
<span class="nt">invoice</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">34843</span>
<span class="nt">date</span><span class="p">:</span><span class="w"> </span><span class="kt">!!str</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2001-01-23</span>
<span class="nt">bill-to</span><span class="p">:</span><span class="w"> </span><span class="nl">&amp;id001</span>
<span class="w">  </span><span class="nt">given</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Chris</span>
<span class="w">  </span><span class="nt">family</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Dumars</span>
<span class="w">  </span><span class="nt">address</span><span class="p">:</span>
<span class="w">    </span><span class="nt">lines</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">      </span><span class="no">458 Walkman Dr.</span>
<span class="w">      </span><span class="no">Suite #292</span>
</pre></div>
</div>
<p>Join two files with sequences at root:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>fy-join<span class="w"> </span>-mblock<span class="w"> </span><span class="s2">&quot;&gt;[ foo, bar ]&quot;</span><span class="w"> </span><span class="s2">&quot;&gt;[ baz ]&quot;</span>
</pre></div>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">foo</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bar</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">baz</span>
</pre></div>
</div>
</section>
<section id="author">
<h2>Author<a class="headerlink" href="#author" title="Link to this heading"></a></h2>
<p>Pantelis Antoniou &lt;<a class="reference external" href="mailto:pantelis&#46;antoniou&#37;&#52;&#48;konsulko&#46;com">pantelis<span>&#46;</span>antoniou<span>&#64;</span>konsulko<span>&#46;</span>com</a>&gt;</p>
</section>
<section id="bugs">
<h2>Bugs<a class="headerlink" href="#bugs" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>The only supported input and output character encoding is UTF8.</p></li>
<li><p>Sorting does not respect language settings.</p></li>
<li><p>There is no way for the user to specific a different coloring scheme.</p></li>
</ul>
</section>
<section id="see-also">
<h2>See also<a class="headerlink" href="#see-also" title="Link to this heading"></a></h2>
<p><em class="manpage">libfyaml(1)</em></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../intro.html" class="btn btn-neutral float-left" title="Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../libfyaml.html" class="btn btn-neutral float-right" title="Public API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, Pantelis Antoniou.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>